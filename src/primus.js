// This should be generated at runtime in the future, as it may not work with other configurations.
!function(t,e,r,n){e[t]=r.call(e);for(var o=0;o<n.length;o++)n[o](e[t]);"undefined"!=typeof module&&module.exports?module.exports=e[t]:"function"==typeof define&&define.amd&&define(function(){return e[t]})}("Primus",this||{},function(){var t,e=function r(t,e,n){function o(s,a){if(!e[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=e[s]={exports:{}};t[s][0].call(p.exports,function(e){var r=t[s][1][e];return o(r?r:e)},p,p.exports,r,t,e,n)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){"use strict";e.exports=function(t,e){function r(t,r){if(e[t]){if("string"==typeof e[t]&&(e[t]=e[t].split(n)),"function"==typeof e[t])return e[t].call(r);for(var o,i,s=0;s<e[t].length;s++)i=e[t][s],o=typeof i,"function"===o?i.call(r):"string"===o&&"function"==typeof r[i]&&r[i]()}}var n=/[, ]+/;return e=e||{},t=t||[],"string"==typeof t&&(t=t.split(n)),function(){var e,n=this,o=0;if(null===n[t[0]])return!1;for(r("before",n);o<t.length;o++)e=t[o],n[e]&&("function"==typeof n[e].destroy&&n[e].destroy(),n[e]=null);return n.emit&&n.emit("destroy"),r("after",n),!0}}},{}],2:[function(t,e,r){"use strict";e.exports=function(){for(var t,e=this,r=0,n=arguments.length,o=new Array(n);n>r;r++)o[r]=arguments[r];return"function"!=typeof o[o.length-1]?function(){for(var t=0,r=arguments.length,n=new Array(r);r>t;t++)n[t]=arguments[t];return e.emit.apply(e,o.concat(n))}:(t=o.pop(),function(){for(var r=0,n=arguments.length,i=new Array(n+1);n>r;r++)i[r+1]=arguments[r];return i[0]=function(t,r){return t?e.emit("error",t):(i=void 0===r?i.slice(1):null===r?[]:r,void e.emit.apply(e,o.concat(i)))},t.apply(e,i),!0})}},{}],3:[function(t,e,r){"use strict";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(){this._events=new n,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,a="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),i.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)s.call(t,e)&&r.push(a?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},i.prototype.listeners=function(t,e){var r=a?a+t:t,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,s=new Array(i);i>o;o++)s[o]=n[o].fn;return s},i.prototype.emit=function(t,e,r,n,o,i){var s=a?a+t:t;if(!this._events[s])return!1;var c,u,p=this._events[s],h=arguments.length;if(p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),h){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,e),!0;case 3:return p.fn.call(p.context,e,r),!0;case 4:return p.fn.call(p.context,e,r,n),!0;case 5:return p.fn.call(p.context,e,r,n,o),!0;case 6:return p.fn.call(p.context,e,r,n,o,i),!0}for(u=1,c=new Array(h-1);h>u;u++)c[u-1]=arguments[u];p.fn.apply(p.context,c)}else{var f,l=p.length;for(u=0;l>u;u++)switch(p[u].once&&this.removeListener(t,p[u].fn,void 0,!0),h){case 1:p[u].fn.call(p[u].context);break;case 2:p[u].fn.call(p[u].context,e);break;case 3:p[u].fn.call(p[u].context,e,r);break;case 4:p[u].fn.call(p[u].context,e,r,n);break;default:if(!c)for(f=1,c=new Array(h-1);h>f;f++)c[f-1]=arguments[f];p[u].fn.apply(p[u].context,c)}}return!0},i.prototype.on=function(t,e,r){var n=new o(e,r||this),i=a?a+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.once=function(t,e,r){var n=new o(e,r||this,!0),i=a?a+t:t;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],n]:this._events[i].push(n):(this._events[i]=n,this._eventsCount++),this},i.prototype.removeListener=function(t,e,r,o){var i=a?a+t:t;if(!this._events[i])return this;if(!e)return 0===--this._eventsCount?this._events=new n:delete this._events[i],this;var s=this._events[i];if(s.fn)s.fn!==e||o&&!s.once||r&&s.context!==r||(0===--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var c=0,u=[],p=s.length;p>c;c++)(s[c].fn!==e||o&&!s[c].once||r&&s[c].context!==r)&&u.push(s[c]);u.length?this._events[i]=1===u.length?u[0]:u:0===--this._eventsCount?this._events=new n:delete this._events[i]}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=a?a+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=a,i.EventEmitter=i,"undefined"!=typeof e&&(e.exports=i)},{}],4:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],5:[function(t,e,r){"use strict";var n=new RegExp("^((?:\\d+)?\\.?\\d+) *("+["milliseconds?","msecs?","ms","seconds?","secs?","s","minutes?","mins?","m","hours?","hrs?","h","days?","d","weeks?","wks?","w","years?","yrs?","y"].join("|")+")?$","i"),o=1e3,i=60*o,s=60*i,a=24*s,c=7*a,u=365*a;e.exports=function(t){var e,r,p=typeof t;if("number"===p)return t;if("string"!==p||"0"===t||!t)return 0;if(+t)return+t;if(t.length>1e4||!(r=n.exec(t)))return 0;switch(e=parseFloat(r[1]),r[2].toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return e*u;case"weeks":case"week":case"wks":case"wk":case"w":return e*c;case"days":case"day":case"d":return e*a;case"hours":case"hour":case"hrs":case"hr":case"h":return e*s;case"minutes":case"minute":case"mins":case"min":case"m":return e*i;case"seconds":case"second":case"secs":case"sec":case"s":return e*o;default:return e}}},{}],6:[function(t,e,r){"use strict";e.exports=function(t){function e(){return n?r:(n=1,r=t.apply(this,arguments),t=null,r)}var r,n=0;return e.displayName=t.displayName||t.name||e.displayName||e.name,e}},{}],7:[function(t,e,r){"use strict";function n(t){return decodeURIComponent(t.replace(/\+/g," "))}function o(t){for(var e,r=/([^=?&]+)=?([^&]*)/g,o={};e=r.exec(t);o[n(e[1])]=n(e[2]));return o}function i(t,e){e=e||"";var r=[];"string"!=typeof e&&(e="?");for(var n in t)s.call(t,n)&&r.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return r.length?e+r.join("&"):""}var s=Object.prototype.hasOwnProperty;r.stringify=i,r.parse=o},{}],8:[function(t,e,r){"use strict";function n(t,e,r){return s(t in r?r[t]:t in e?e[t]:o[t])}function o(t){var e=this;return e instanceof o?(t=t||{},e.attempt=null,e._fn=null,e["reconnect timeout"]=n("reconnect timeout",e,t),e.retries=n("retries",e,t),e.factor=n("factor",e,t),e.max=n("max",e,t),e.min=n("min",e,t),void(e.timers=new c(e))):new o(t)}var i=t("eventemitter3"),s=t("millisecond"),a=t("demolish"),c=t("tick-tock"),u=t("one-time");o.prototype=new i,o.prototype.constructor=o,o["reconnect timeout"]="30 seconds",o.max=1/0,o.min="500 ms",o.retries=10,o.factor=2,o.prototype.reconnect=function(){var t=this;return t.backoff(function(e,r){return r.duration=+new Date-r.start,e?t.emit("reconnect failed",e,r):void t.emit("reconnected",r)},t.attempt)},o.prototype.backoff=function(t,e){var r=this;return e=e||r.attempt||{},e.backoff?r:(e["reconnect timeout"]=n("reconnect timeout",r,e),e.retries=n("retries",r,e),e.factor=n("factor",r,e),e.max=n("max",r,e),e.min=n("min",r,e),e.start=+e.start||+new Date,e.duration=+e.duration||0,e.attempt=+e.attempt||0,e.attempt===e.retries?(t.call(r,new Error("Unable to recover"),e),r):(e.backoff=!0,e.attempt++,r.attempt=e,e.scheduled=1!==e.attempt?Math.min(Math.round((Math.random()+1)*e.min*Math.pow(e.factor,e.attempt-1)),e.max):e.min,r.timers.setTimeout("reconnect",function(){e.duration=+new Date-e.start,e.backoff=!1,r.timers.clear("reconnect, timeout");var n=r._fn=u(function(n){return r.reset(),n?r.backoff(t,e):void t.call(r,void 0,e)});r.emit("reconnect",e,n),r.timers.setTimeout("timeout",function(){var t=new Error("Failed to reconnect in a timely manner");e.duration=+new Date-e.start,r.emit("reconnect timeout",t,e),n(t)},e["reconnect timeout"])},e.scheduled),r.emit("reconnect scheduled",e),r))},o.prototype.reconnecting=function(){return!!this.attempt},o.prototype.reconnected=function(t){return this._fn&&this._fn(t),this},o.prototype.reset=function(){return this._fn=this.attempt=null,this.timers.clear("reconnect, timeout"),this},o.prototype.destroy=a("timers attempt _fn"),e.exports=o},{demolish:1,eventemitter3:9,millisecond:5,"one-time":6,"tick-tock":11}],9:[function(t,e,r){"use strict";function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function o(){}var i="function"!=typeof Object.create?"~":!1;o.prototype._events=void 0,o.prototype.listeners=function(t,e){var r=i?i+t:t,n=this._events&&this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,a=new Array(s);s>o;o++)a[o]=n[o].fn;return a},o.prototype.emit=function(t,e,r,n,o,s){var a=i?i+t:t;if(!this._events||!this._events[a])return!1;var c,u,p=this._events[a],h=arguments.length;if("function"==typeof p.fn){switch(p.once&&this.removeListener(t,p.fn,void 0,!0),h){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,e),!0;case 3:return p.fn.call(p.context,e,r),!0;case 4:return p.fn.call(p.context,e,r,n),!0;case 5:return p.fn.call(p.context,e,r,n,o),!0;case 6:return p.fn.call(p.context,e,r,n,o,s),!0}for(u=1,c=new Array(h-1);h>u;u++)c[u-1]=arguments[u];p.fn.apply(p.context,c)}else{var f,l=p.length;for(u=0;l>u;u++)switch(p[u].once&&this.removeListener(t,p[u].fn,void 0,!0),h){case 1:p[u].fn.call(p[u].context);break;case 2:p[u].fn.call(p[u].context,e);break;case 3:p[u].fn.call(p[u].context,e,r);break;default:if(!c)for(f=1,c=new Array(h-1);h>f;f++)c[f-1]=arguments[f];p[u].fn.apply(p[u].context,c)}}return!0},o.prototype.on=function(t,e,r){var o=new n(e,r||this),s=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.once=function(t,e,r){var o=new n(e,r||this,!0),s=i?i+t:t;return this._events||(this._events=i?{}:Object.create(null)),this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],o]:this._events[s].push(o):this._events[s]=o,this},o.prototype.removeListener=function(t,e,r,n){var o=i?i+t:t;if(!this._events||!this._events[o])return this;var s=this._events[o],a=[];if(e)if(s.fn)(s.fn!==e||n&&!s.once||r&&s.context!==r)&&a.push(s);else for(var c=0,u=s.length;u>c;c++)(s[c].fn!==e||n&&!s[c].once||r&&s[c].context!==r)&&a.push(s[c]);return a.length?this._events[o]=1===a.length?a[0]:a:delete this._events[o],this},o.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[i?i+t:t]:this._events=i?{}:Object.create(null),this):this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=i,"undefined"!=typeof e&&(e.exports=o)},{}],10:[function(t,e,r){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],t=+t,!t)return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],11:[function(t,e,r){"use strict";function n(t,e,r,n){this.start=+new Date,this.duration=r,this.clear=e,this.timer=t,this.fns=[n]}function o(t){clearTimeout(t)}function i(t){clearInterval(t)}function s(t){clearImmediate(t)}function a(t){return this instanceof a?(this.timers={},void(this.context=t||this)):new a(t)}var c=Object.prototype.hasOwnProperty,u=t("millisecond");n.prototype.remaining=function(){return this.duration-this.taken()},n.prototype.taken=function(){return+new Date-this.start},a.prototype.tock=function(t,e){var r=this;return function(){if(t in r.timers){var n=r.timers[t],o=n.fns.slice(),i=o.length,s=0;for(e?r.clear(t):r.start=+new Date;i>s;s++)o[s].call(r.context)}}},a.prototype.setTimeout=function(t,e,r){var i,s=this;return s.timers[t]?(s.timers[t].fns.push(e),s):(i=u(r),s.timers[t]=new n(setTimeout(s.tock(t,!0),u(r)),o,i,e),s)},a.prototype.setInterval=function(t,e,r){var o,s=this;return s.timers[t]?(s.timers[t].fns.push(e),s):(o=u(r),s.timers[t]=new n(setInterval(s.tock(t),u(r)),i,o,e),s)},a.prototype.setImmediate=function(t,e){var r=this;return"function"!=typeof setImmediate?r.setTimeout(t,e,0):r.timers[t]?(r.timers[t].fns.push(e),r):(r.timers[t]=new n(setImmediate(r.tock(t,!0)),s,0,e),r)},a.prototype.active=function(t){return t in this.timers},a.prototype.clear=function(){var t,e,r,n=arguments.length?arguments:[],o=this;if(1===n.length&&"string"==typeof n[0]&&(n=n[0].split(/[, ]+/)),!n.length)for(t in o.timers)c.call(o.timers,t)&&n.push(t);for(e=0,r=n.length;r>e;e++)t=o.timers[n[e]],t&&(t.clear(t.timer),t.fns=t.timer=t.clear=null,delete o.timers[n[e]]);return o},a.prototype.adjust=function(t,e){var r,n=this,o=u(e),s=n.timers[t];return s?(r=s.clear===i,s.clear(s.timer),s.start=+new Date,s.duration=o,s.timer=(r?setInterval:setTimeout)(n.tock(t,!r),o),n):n},a.prototype.end=a.prototype.destroy=function(){return this.context?(this.clear(),this.context=this.timers=null,!0):!1},a.Timer=n,e.exports=a},{millisecond:5}],12:[function(t,e,r){(function(r){"use strict";function n(t){t=t||r.location||{};var e,n={},o=typeof t;if("blob:"===t.protocol)n=new s(unescape(t.pathname),{});else if("string"===o){n=new s(t,{});for(e in d)delete n[e]}else if("object"===o){for(e in t)e in d||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=f.test(t.href))}return n}function o(t){var e=h.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function i(t,e){for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),("."===o||".."===o)&&r.push(""),r.join("/")}function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);var a,c,h,f,d,y,m=l.slice(),v=typeof e,g=this,w=0;for("object"!==v&&"string"!==v&&(r=e,e=null),r&&"function"!=typeof r&&(r=p.parse),e=n(e),c=o(t||""),a=!c.protocol&&!c.slashes,g.slashes=c.slashes||a&&e.slashes,g.protocol=c.protocol||e.protocol||"",t=c.rest,c.slashes||(m[2]=[/(.*)/,"pathname"]);w<m.length;w++)f=m[w],h=f[0],y=f[1],h!==h?g[y]=t:"string"==typeof h?~(d=t.indexOf(h))&&("number"==typeof f[2]?(g[y]=t.slice(0,d),t=t.slice(d+f[2])):(g[y]=t.slice(d),t=t.slice(0,d))):(d=h.exec(t))&&(g[y]=d[1],t=t.slice(0,d.index)),g[y]=g[y]||(a&&f[3]?e[y]||"":""),f[4]&&(g[y]=g[y].toLowerCase());r&&(g.query=r(g.query)),a&&e.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==e.pathname)&&(g.pathname=i(g.pathname,e.pathname)),u(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(f=g.auth.split(":"),g.username=f[0]||"",g.password=f[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}function a(t,e,r){var n=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||p.parse)(e)),n[t]=e;break;case"port":n[t]=e,u(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[t]="");break;case"hostname":n[t]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[t]=e,/:\d+$/.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!r;break;case"pathname":n.pathname=e.length&&"/"!==e.charAt(0)?"/"+e:e;break;default:n[t]=e}for(var o=0;o<l.length;o++){var i=l[o];i[4]&&(n[i[1]]=n[i[1]].toLowerCase())}return n.origin=n.protocol&&n.host&&"file:"!==n.protocol?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function c(t){t&&"function"==typeof t||(t=p.stringify);var e,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,e="object"==typeof r.query?t(r.query):r.query,e&&(o+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(o+=r.hash),o}var u=t("requires-port"),p=t("querystringify"),h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,f=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};s.prototype={set:a,toString:c},s.extractProtocol=o,s.location=n,s.qs=p,e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:7,"requires-port":10}],13:[function(t,e,r){"use strict";function n(t){var e="";do e=a[t%c]+e,t=Math.floor(t/c);while(t>0);return e}function o(t){var e=0;for(h=0;h<t.length;h++)e=e*c+u[t.charAt(h)];return e}function i(){var t=n(+new Date);return t!==s?(p=0,s=t):t+"."+n(p++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},p=0,h=0;c>h;h++)u[a[h]]=h;i.encode=n,i.decode=o,e.exports=i},{}],14:[function(e,r,n){"use strict";function o(t,e){if(!(t instanceof i)){var r=new Error("Primus#"+e+"'s context should called with a Primus instance");if("function"!=typeof t.listeners||!t.listeners("error").length)throw r;t.emit("error",r)}}function i(t,e){if(!(this instanceof i))return new i(t,e);if(i.Stream.call(this),"function"!=typeof this.client)return this.critical(new Error("The client library has not been compiled correctly, see https://github.com/primus/primus#client-library for more details"));if("object"==typeof t?(e=t,t=e.url||e.uri||s):e=e||{},"ping"in e||"pong"in e)return this.critical(new Error("The `ping` and `pong` options have been removed"));var r=this;e.queueSize="queueSize"in e?e.queueSize:1/0,e.timeout="timeout"in e?e.timeout:1e4,e.reconnect="reconnect"in e?e.reconnect:{},e.pingTimeout="pingTimeout"in e?e.pingTimeout:45e3,e.strategy="strategy"in e?e.strategy:[],e.transport="transport"in e?e.transport:{},r.buffer=[],r.writable=!0,r.readable=!0,r.url=r.parse(t||s),r.readyState=i.CLOSED,r.options=e,r.timers=new c(this),r.socket=null,r.latency=0,r.disconnect=!1,r.transport=e.transport,r.transformers={outgoing:[],incoming:[]},r.recovery=new u(e.reconnect),"string"==typeof e.strategy&&(e.strategy=e.strategy.split(/\s?\,\s?/g)),!1===e.strategy?e.strategy=[]:e.strategy.length||(e.strategy.push("disconnect","online"),this.authorization||e.strategy.push("timeout")),e.strategy=e.strategy.join(",").toLowerCase(),"websockets"in e&&(r.AVOID_WEBSOCKETS=!e.websockets),"network"in e&&(r.NETWORK_EVENTS=e.network),e.manual||r.timers.setTimeout("open",function(){r.timers.clear("open"),r.open()},0),r.initialise(e)}var s,a=e("eventemitter3"),c=e("tick-tock"),u=e("recovery"),p=e("querystringify"),h=e("inherits"),f=e("demolish"),l=e("yeast"),d=/\u2028/g,y=/\u2029/g;try{s=location.origin?location.origin:location.protocol+"//"+location.host}catch(m){s="http://127.0.0.1"}i.requires=i.require=function(r){return"function"!=typeof e?void 0:"function"==typeof t&&t.amd?void 0:e(r)};try{i.Stream=i.requires("stream")}catch(m){}i.Stream||(i.Stream=a),h(i,i.Stream),i.OPENING=1,i.CLOSED=2,i.OPEN=3,i.prototype.AVOID_WEBSOCKETS=!1,i.prototype.NETWORK_EVENTS=!1,i.prototype.online=!0;try{(i.prototype.NETWORK_EVENTS="onLine"in navigator&&(window.addEventListener||document.body.attachEvent))&&(navigator.onLine||(i.prototype.online=!1))}catch(m){}if(i.prototype.ark={},i.prototype.emits=e("emits"),i.prototype.plugin=function(t){if(o(this,"plugin"),t)return this.ark[t];var e={};for(t in this.ark)e[t]=this.ark[t];return e},i.prototype.reserved=function(t){return/^(incoming|outgoing)::/.test(t)||t in this.reserved.events},i.prototype.reserved.events={"reconnect scheduled":1,"reconnect timeout":1,readyStateChange:1,"reconnect failed":1,reconnected:1,reconnect:1,offline:1,timeout:1,destroy:1,online:1,error:1,close:1,open:1,data:1,end:1},i.prototype.initialise=function(t){var e,r=this;r.recovery.on("reconnected",r.emits("reconnected")).on("reconnect failed",r.emits("reconnect failed",function(t){r.emit("end"),t()})).on("reconnect timeout",r.emits("reconnect timeout")).on("reconnect scheduled",r.emits("reconnect scheduled")).on("reconnect",r.emits("reconnect",function(t){r.emit("outgoing::reconnect"),t()})),r.on("outgoing::open",function(){var t=r.readyState;r.readyState=i.OPENING,t!==r.readyState&&r.emit("readyStateChange","opening"),e=+new Date}),r.on("incoming::open",function(){var t=r.readyState;if(r.recovery.reconnecting()&&r.recovery.reconnected(),r.writable=!0,r.readable=!0,r.online||(r.online=!0,r.emit("online")),r.readyState=i.OPEN,t!==r.readyState&&r.emit("readyStateChange","open"),r.heartbeat(),r.buffer.length){var e=r.buffer.slice(),n=e.length,o=0;for(r.buffer.length=0;n>o;o++)r._write(e[o])}r.emit("open")}),r.on("incoming::ping",function(t){r.online=!0,r.heartbeat(),r.emit("outgoing::pong",t),r._write("primus::pong::"+t)}),r.on("incoming::error",function(t){var e=r.timers.active("connect"),n=t;if("string"==typeof t)n=new Error(t);else if(!(t instanceof Error)&&"object"==typeof t){n=new Error(t.message||t.reason);for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return r.recovery.reconnecting()?r.recovery.reconnected(n):(r.listeners("error").length&&r.emit("error",n),void(e&&(~r.options.strategy.indexOf("timeout")?r.recovery.reconnect():r.end())))}),r.on("incoming::data",function(t){r.decoder(t,function(e,n){return e?r.listeners("error").length&&r.emit("error",e):void(r.protocol(n)||r.transforms(r,r,"incoming",n,t))})}),r.on("incoming::end",function(){var t=r.readyState;return r.disconnect?(r.disconnect=!1,r.end()):(r.readyState=i.CLOSED,t!==r.readyState&&r.emit("readyStateChange","end"),r.timers.active("connect")&&r.end(),t!==i.OPEN?r.recovery.reconnecting()?r.recovery.reconnect():!1:(this.writable=!1,this.readable=!1,this.timers.clear(),r.emit("close"),~r.options.strategy.indexOf("disconnect")?r.recovery.reconnect():(r.emit("outgoing::end"),void r.emit("end"))))}),r.client();for(var n in r.ark)r.ark[n].call(r,r,t);return r.NETWORK_EVENTS?(r.offlineHandler=function(){r.online&&(r.online=!1,r.emit("offline"),r.end(),r.recovery.reset())},r.onlineHandler=function(){r.online||(r.online=!0,r.emit("online"),~r.options.strategy.indexOf("online")&&r.recovery.reconnect())},window.addEventListener?(window.addEventListener("offline",r.offlineHandler,!1),window.addEventListener("online",r.onlineHandler,!1)):document.body.attachEvent&&(document.body.attachEvent("onoffline",r.offlineHandler),document.body.attachEvent("ononline",r.onlineHandler)),r):r},i.prototype.protocol=function(t){if("string"!=typeof t||0!==t.indexOf("primus::"))return!1;var e=t.indexOf(":",8),r=t.slice(e+2);switch(t.slice(8,e)){case"ping":this.emit("incoming::ping",+r);break;case"server":"close"===r&&(this.disconnect=!0);break;case"id":this.emit("incoming::id",r);break;default:return!1}return!0},i.prototype.transforms=function(t,e,r,n,o){var i={data:n},s=t.transformers[r];return function a(t,r){var n=s[t++];if(!n)return r();if(1===n.length){if(!1===n.call(e,i))return;return a(t,r)}n.call(e,i,function(n,o){return n?e.emit("error",n):void(!1!==o&&a(t,r))})}(0,function(){return"incoming"===r?e.emit("data",i.data,o):void e._write(i.data)}),this},i.prototype.id=function(t){return this.socket&&this.socket.id?t(this.socket.id):(this._write("primus::id::"),this.once("incoming::id",t))},i.prototype.open=function(){return o(this,"open"),!this.recovery.reconnecting()&&this.options.timeout&&this.timeout(),this.emit("outgoing::open"),this},i.prototype.write=function(t){return o(this,"write"),this.transforms(this,this,"outgoing",t),!0},i.prototype._write=function(t){var e=this;return i.OPEN!==e.readyState?(this.buffer.length===this.options.queueSize&&this.buffer.splice(0,1),this.buffer.push(t),!1):(e.encoder(t,function(t,r){return t?e.listeners("error").length&&e.emit("error",t):("string"==typeof r&&(~r.indexOf("\u2028")&&(r=r.replace(d,"\\u2028")),~r.indexOf("\u2029")&&(r=r.replace(y,"\\u2029"))),void e.emit("outgoing::data",r))}),!0)},i.prototype.heartbeat=function(){return this.options.pingTimeout?(this.timers.clear("heartbeat"),this.timers.setTimeout("heartbeat",function(){this.online&&(this.online=!1,this.emit("offline"),this.emit("incoming::end"))},this.options.pingTimeout),this):this},i.prototype.timeout=function(){function t(){e.removeListener("error",t).removeListener("open",t).removeListener("end",t).timers.clear("connect")}var e=this;return e.timers.setTimeout("connect",function(){t(),e.readyState===i.OPEN||e.recovery.reconnecting()||(e.emit("timeout"),~e.options.strategy.indexOf("timeout")?e.recovery.reconnect():e.end())},e.options.timeout),e.on("error",t).on("open",t).on("end",t)},i.prototype.end=function(t){if(o(this,"end"),this.readyState===i.CLOSED&&!this.timers.active("connect")&&!this.timers.active("open"))return this.recovery.reconnecting()&&(this.recovery.reset(),this.emit("end")),this;void 0!==t&&this.write(t),this.writable=!1,this.readable=!1;var e=this.readyState;return this.readyState=i.CLOSED,e!==this.readyState&&this.emit("readyStateChange","end"),this.timers.clear(),this.emit("outgoing::end"),this.emit("close"),this.emit("end"),this},i.prototype.destroy=f("url timers options recovery socket transport transformers",{before:"end",after:["removeAllListeners",function(){this.NETWORK_EVENTS&&(window.addEventListener?(window.removeEventListener("offline",this.offlineHandler),window.removeEventListener("online",this.onlineHandler)):document.body.attachEvent&&(document.body.detachEvent("onoffline",this.offlineHandler),document.body.detachEvent("ononline",this.onlineHandler)))}]}),i.prototype.clone=function(t){return this.merge({},t)},i.prototype.merge=function(t){for(var e,r,n=1;n<arguments.length;n++){r=arguments[n];for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},i.prototype.parse=e("url-parse"),i.prototype.querystring=p.parse,i.prototype.querystringify=p.stringify,i.prototype.uri=function(t){var e=this.url,r=[],n=!1;t.query&&(n=!0),t=t||{},t.protocol="protocol"in t?t.protocol:"http:",t.query=e.query&&n?e.query.slice(1):!1,t.secure="secure"in t?t.secure:"https:"===e.protocol||"wss:"===e.protocol,t.auth="auth"in t?t.auth:e.auth,t.pathname="pathname"in t?t.pathname:this.pathname,t.port="port"in t?+t.port:+e.port||(t.secure?443:80);var o=this.querystring(t.query||"");return o._primuscb=l(),t.query=this.querystringify(o),this.emit("outgoing::url",t),r.push(t.secure?t.protocol.replace(":","s:"):t.protocol,""),r.push(t.auth?t.auth+"@"+e.host:e.host),t.pathname&&r.push(t.pathname.slice(1)),n?r[r.length-1]+="?"+t.query:delete t.query,t.object?t:r.join("/")},i.prototype.transform=function(t,e){return o(this,"transform"),t in this.transformers?(this.transformers[t].push(e),this):this.critical(new Error("Invalid transformer type"))},i.prototype.critical=function(t){if(this.emit("error",t))return this;throw t},i.connect=function(t,e){return new i(t,e)},i.EventEmitter=a,i.prototype.client=function(){var t,e=this.emits("incoming::data"),r=this.emits("incoming::error"),n=this.emits("incoming::open"),o=this.emits("incoming::end"),s=this,a=function(){if("undefined"!=typeof eio)return eio;try{return i.requires("engine.io-client")}catch(t){}return void 0}();return a?(s.on("outgoing::open",function(){s.emit("outgoing::end"),s.socket=t=a(s.merge(s.transport,s.url,s.uri({protocol:"http:",query:!0,object:!0}),{rememberUpgrade:!1,forceBase64:!0,enablesXDR:!1,timestampRequests:!0,path:this.pathname,transports:s.AVOID_WEBSOCKETS?["polling"]:["polling","websocket"]})),a.sockets&&a.sockets.length&&(a.sockets.length=0),t.on("message",e),t.on("error",r),t.on("close",o),t.on("open",n)}),s.on("outgoing::data",function(e){t&&t.send(e)}),s.on("outgoing::reconnect",function(){s.emit("outgoing::open")}),void s.on("outgoing::end",function(){t&&(t.removeListener("message",e),t.removeListener("error",r),t.removeListener("close",o),t.removeListener("open",n),t.close(),t=null)})):s.critical(new Error("Missing required `engine.io-client` module. Please run `npm install --save engine.io-client`"))},i.prototype.authorization=!1,i.prototype.pathname="/primus",i.prototype.encoder=function(t,e){var r;try{t=JSON.stringify(t)}catch(n){r=n}e(r,t)},i.prototype.decoder=function(t,e){var r;if("string"!=typeof t)return e(r,t);try{t=JSON.parse(t)}catch(n){r=n}e(r,t)},i.prototype.version="7.0.2","undefined"!=typeof document&&"undefined"!=typeof navigator){document.addEventListener&&document.addEventListener("keydown",function(t){27===t.keyCode&&t.preventDefault&&t.preventDefault()},!1);var v=(navigator.userAgent||"").toLowerCase(),g=v.match(/.+(?:rv|it|ra|ie)[\/: ](\d+)\.(\d+)(?:\.(\d+))?/)||[],w=+[g[1],g[2]].join(".");!~v.indexOf("chrome")&&~v.indexOf("safari")&&534.54>w&&(i.prototype.AVOID_WEBSOCKETS=!0)}r.exports=i},{demolish:1,emits:2,eventemitter3:3,inherits:4,querystringify:7,recovery:8,"tick-tock":11,"url-parse":12,yeast:13}]},{},[14])(14);return e},[function(t){!function(t){var e;"undefined"!=typeof window?e=window:"undefined"!=typeof self&&(e=self),e.eio=t()}(function(){return function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[s]={exports:{}};e[s][0].call(p.exports,function(t){var r=e[s][1][t];return o(r?r:t)},p,p.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":2,"engine.io-parser":16}],2:[function(t,e,r){(function(r){function n(t,e){if(!(this instanceof n))return new n(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:r.location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||(r.location?location.hostname:"localhost"),this.port=e.port||(r.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=h.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate?e.perMessageDeflate||{}:!1,!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized?!0:e.rejectUnauthorized,this.forceNode=!!e.forceNode;var o="object"==typeof r&&r;o.global===o&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function o(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var i=t("./transports/index"),s=t("component-emitter"),a=t("indexof"),c=t("engine.io-parser"),u=t("parseuri"),p=t("parsejson"),h=t("parseqs");
e.exports=n,n.priorWebsocketSuccess=!1,s(n.prototype),n.protocol=c.protocol,n.Socket=n,n.Transport=t("./transport"),n.transports=t("./transports/index"),n.parser=t("engine.io-parser"),n.prototype.createTransport=function(t){var e=o(this.query);e.EIO=c.protocol,e.transport=t;var r=this.transportOptions[t]||{};this.id&&(e.sid=this.id);var n=new i[t]({query:e,socket:this,agent:r.agent||this.agent,hostname:r.hostname||this.hostname,port:r.port||this.port,secure:r.secure||this.secure,path:r.path||this.path,forceJSONP:r.forceJSONP||this.forceJSONP,jsonp:r.jsonp||this.jsonp,forceBase64:r.forceBase64||this.forceBase64,enablesXDR:r.enablesXDR||this.enablesXDR,timestampRequests:r.timestampRequests||this.timestampRequests,timestampParam:r.timestampParam||this.timestampParam,policyPort:r.policyPort||this.policyPort,pfx:r.pfx||this.pfx,key:r.key||this.key,passphrase:r.passphrase||this.passphrase,cert:r.cert||this.cert,ca:r.ca||this.ca,ciphers:r.ciphers||this.ciphers,rejectUnauthorized:r.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:r.perMessageDeflate||this.perMessageDeflate,extraHeaders:r.extraHeaders||this.extraHeaders,forceNode:r.forceNode||this.forceNode,localAddress:r.localAddress||this.localAddress,requestTimeout:r.requestTimeout||this.requestTimeout,protocols:r.protocols||void 0});return n},n.prototype.open=function(){var t;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(r){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},n.prototype.setTransport=function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},n.prototype.probe=function(t){function e(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;p=p||t}p||(u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!p)if("pong"===t.type&&"probe"===t.data){if(h.upgrading=!0,h.emit("upgrading",u),!u)return;n.priorWebsocketSuccess="websocket"===u.name,h.transport.pause(function(){p||"closed"!==h.readyState&&(c(),h.setTransport(u),u.send([{type:"upgrade"}]),h.emit("upgrade",u),u=null,h.upgrading=!1,h.flush())})}else{var e=new Error("probe error");e.transport=u.name,h.emit("upgradeError",e)}}))}function r(){p||(p=!0,c(),u.close(),u=null)}function o(t){var e=new Error("probe error: "+t);e.transport=u.name,r(),h.emit("upgradeError",e)}function i(){o("transport closed")}function s(){o("socket closed")}function a(t){u&&t.name!==u.name&&r()}function c(){u.removeListener("open",e),u.removeListener("error",o),u.removeListener("close",i),h.removeListener("close",s),h.removeListener("upgrading",a)}var u=this.createTransport(t,{probe:1}),p=!1,h=this;n.priorWebsocketSuccess=!1,u.once("open",e),u.once("error",o),u.once("close",i),this.once("close",s),this.once("upgrading",a),u.open()},n.prototype.onOpen=function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])},n.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(p(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}},n.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},n.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},n.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(t,e,r){return this.sendPacket("message",t,e,r),this},n.prototype.sendPacket=function(t,e,r,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof r&&(n=r,r=null),"closing"!==this.readyState&&"closed"!==this.readyState){r=r||{},r.compress=!1!==r.compress;var o={type:t,data:e,options:r};this.emit("packetCreate",o),this.writeBuffer.push(o),n&&this.once("flush",n),this.flush()}},n.prototype.close=function(){function t(){n.onClose("forced close"),n.transport.close()}function e(){n.removeListener("upgrade",e),n.removeListener("upgradeError",e),t()}function r(){n.once("upgrade",e),n.once("upgradeError",e)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}return this},n.prototype.onError=function(t){n.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},n.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){var r=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),r.writeBuffer=[],r.prevBufferLen=0}},n.prototype.filterUpgrades=function(t){for(var e=[],r=0,n=t.length;n>r;r++)~a(this.transports,t[r])&&e.push(t[r]);return e}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":3,"./transports/index":4,"component-emitter":14,"engine.io-parser":16,indexof:21,parsejson:23,parseqs:24,parseuri:25}],3:[function(t,e,r){function n(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}var o=t("engine.io-parser"),i=t("component-emitter");e.exports=n,i(n.prototype),n.prototype.onError=function(t,e){var r=new Error(t);return r.type="TransportError",r.description=e,this.emit("error",r),this},n.prototype.open=function(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this},n.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(t){var e=o.decodePacket(t,this.socket.binaryType);this.onPacket(e)},n.prototype.onPacket=function(t){this.emit("packet",t)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":14,"engine.io-parser":16}],4:[function(t,e,r){(function(e){function n(t){var r,n=!1,a=!1,c=!1!==t.jsonp;if(e.location){var u="https:"===location.protocol,p=location.port;p||(p=u?443:80),n=t.hostname!==location.hostname||p!==t.port,a=t.secure!==u}if(t.xdomain=n,t.xscheme=a,r=new o(t),"open"in r&&!t.forceJSONP)return new i(t);if(!c)throw new Error("JSONP disabled");return new s(t)}var o=t("xmlhttprequest-ssl"),i=t("./polling-xhr"),s=t("./polling-jsonp"),a=t("./websocket");r.polling=n,r.websocket=a}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":5,"./polling-xhr":6,"./websocket":8,"xmlhttprequest-ssl":9}],5:[function(t,e,r){(function(r){function n(){}function o(t){i.call(this,t),this.query=this.query||{},a||(r.___eio||(r.___eio=[]),a=r.___eio),this.index=a.length;var e=this;a.push(function(t){e.onData(t)}),this.query.j=this.index,r.document&&r.addEventListener&&r.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=n)},!1)}var i=t("./polling"),s=t("component-inherit");e.exports=o;var a,c=/\n/g,u=/\\n/g;s(o,i),o.prototype.supportsBinary=!1,o.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},o.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var r=document.getElementsByTagName("script")[0];r?r.parentNode.insertBefore(e,r):(document.head||document.body).appendChild(e),this.script=e;var n="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);n&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},o.prototype.doWrite=function(t,e){function r(){n(),e()}function n(){if(o.iframe)try{o.form.removeChild(o.iframe)}catch(t){o.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+o.iframeId+'">';i=document.createElement(e)}catch(t){i=document.createElement("iframe"),i.name=o.iframeId,i.src="javascript:0"}i.id=o.iframeId,o.form.appendChild(i),o.iframe=i}var o=this;if(!this.form){var i,s=document.createElement("form"),a=document.createElement("textarea"),p=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=p,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),n(),t=t.replace(u,"\\\n"),this.area.value=t.replace(c,"\\n");try{this.form.submit()}catch(h){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===o.iframe.readyState&&r()}:this.iframe.onload=r}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":7,"component-inherit":15}],6:[function(t,e,r){(function(r){function n(){}function o(t){if(c.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,r.location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd=t.hostname!==r.location.hostname||n!==t.port,this.xs=t.secure!==e}}function i(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function s(){for(var t in i.requests)i.requests.hasOwnProperty(t)&&i.requests[t].abort()}var a=t("xmlhttprequest-ssl"),c=t("./polling"),u=t("component-emitter"),p=t("component-inherit");e.exports=o,e.exports.Request=i,p(o,c),o.prototype.supportsBinary=!0,o.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new i(t)},o.prototype.doWrite=function(t,e){var r="string"!=typeof t&&void 0!==t,n=this.request({method:"POST",data:t,isBinary:r}),o=this;n.on("success",e),n.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=n},o.prototype.doPoll=function(){var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},u(i.prototype),i.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new a(t),n=this;try{e.open(this.method,this.uri,this.async);try{if(this.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}}catch(s){}if(this.supportsBinary&&(e.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(s){}try{e.setRequestHeader("Accept","*/*")}catch(s){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},e.send(this.data)}catch(s){return void setTimeout(function(){n.onError(s)},0)}r.document&&(this.index=i.requestsCount++,i.requests[this.index]=this)},i.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},i.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},i.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},i.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,t)try{this.xhr.abort()}catch(e){}r.document&&delete i.requests[this.index],this.xhr=null}},i.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(r){}if("application/octet-stream"===e)t=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(r){for(var n=new Uint8Array(this.xhr.response),o=[],i=0,s=n.length;s>i;i++)o.push(n[i]);t=String.fromCharCode.apply(null,o)}else t=this.xhr.responseText}catch(r){this.onError(r)}null!=t&&this.onData(t)},i.prototype.hasXDR=function(){return"undefined"!=typeof r.XDomainRequest&&!this.xs&&this.enablesXDR},i.prototype.abort=function(){this.cleanup()},i.requestsCount=0,i.requests={},r.document&&(r.attachEvent?r.attachEvent("onunload",s):r.addEventListener&&r.addEventListener("beforeunload",s,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":7,"component-emitter":14,"component-inherit":15,"xmlhttprequest-ssl":9}],7:[function(t,e,r){function n(t){var e=t&&t.forceBase64;(!u||e)&&(this.supportsBinary=!1),o.call(this,t)}var o=t("../transport"),i=t("parseqs"),s=t("engine.io-parser"),a=t("component-inherit"),c=t("yeast");e.exports=n;var u=function(){var e=t("xmlhttprequest-ssl"),r=new e({xdomain:!1});return null!=r.responseType}();a(n,o),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(t){function e(){r.readyState="paused",t()}var r=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()},n.prototype.poll=function(){this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(t){var e=this,r=function(t,r,n){return"opening"===e.readyState&&e.onOpen(),"close"===t.type?(e.onClose(),!1):void e.onPacket(t)};s.decodePayload(t,this.socket.binaryType,this.supportsBinary,r),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())},n.prototype.doClose=function(){function t(){e.write([{type:"close"}])}var e=this;"open"===this.readyState?t():this.once("open",t)},n.prototype.write=function(t){var e=this;this.writable=!1;var r=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,r)})},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",r="";!1!==this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(r=":"+this.port),t.length&&(t="?"+t);var n=-1!==this.hostname.indexOf(":");return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t}},{"../transport":3,"component-inherit":15,"engine.io-parser":16,parseqs:24,"xmlhttprequest-ssl":9,yeast:26}],8:[function(t,e,r){(function(r){function n(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=p&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(f=o),i.call(this,t)}var o,i=t("../transport"),s=t("engine.io-parser"),a=t("parseqs"),c=t("component-inherit"),u=t("yeast"),p=r.WebSocket||r.MozWebSocket;if("undefined"==typeof window)try{o=t("ws")}catch(h){}var f=p;f||"undefined"!=typeof window||(f=o),e.exports=n,c(n,i),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,r={agent:this.agent,perMessageDeflate:this.perMessageDeflate};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(r.headers=this.extraHeaders),this.localAddress&&(r.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?e?new f(t,e):new f(t):new f(t,e,r)}catch(n){return this.emit("error",n)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},n.prototype.write=function(t){function e(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var o=t.length,i=0,a=o;a>i;i++)!function(t){s.encodePacket(t,n.supportsBinary,function(i){if(!n.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),n.perMessageDeflate){var a="string"==typeof i?r.Buffer.byteLength(i):i.length;a<n.perMessageDeflate.threshold&&(s.compress=!1)}}try{n.usingBrowserWebSocket?n.ws.send(i):n.ws.send(i,s)}catch(c){}--o||e()})}(t[i])},n.prototype.onClose=function(){i.prototype.onClose.call(this)},n.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},n.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",r="";this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(r=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t);var n=-1!==this.hostname.indexOf(":");return e+"://"+(n?"["+this.hostname+"]":this.hostname)+r+this.path+t},n.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===n.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":3,"component-inherit":15,"engine.io-parser":16,parseqs:24,ws:void 0,yeast:26}],9:[function(t,e,r){(function(r){var n=t("has-cors");e.exports=function(t){var e=t.xdomain,o=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||n))return new XMLHttpRequest}catch(s){}try{if("undefined"!=typeof XDomainRequest&&!o&&i)return new XDomainRequest}catch(s){}if(!e)try{return new(r[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(s){}}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"has-cors":20}],10:[function(t,e,r){function n(t,e,r){function n(t,o){if(n.count<=0)throw new Error("after called too many times");--n.count,t?(i=!0,e(t),e=r):0!==n.count||i||e(null,o)}var i=!1;return r=r||o,n.count=t,0===t?e():n}function o(){}e.exports=n},{}],11:[function(t,e,r){e.exports=function(t,e,r){var n=t.byteLength;if(e=e||0,r=r||n,t.slice)return t.slice(e,r);if(0>e&&(e+=n),0>r&&(r+=n),r>n&&(r=n),e>=n||e>=r||0===n)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(r-e),s=e,a=0;r>s;s++,a++)i[a]=o[s];return i.buffer}},{}],12:[function(t,e,r){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),n=0;n<t.length;n++)e[t.charCodeAt(n)]=n;r.encode=function(e){var r,n=new Uint8Array(e),o=n.length,i="";for(r=0;o>r;r+=3)i+=t[n[r]>>2],i+=t[(3&n[r])<<4|n[r+1]>>4],i+=t[(15&n[r+1])<<2|n[r+2]>>6],i+=t[63&n[r+2]];return o%3===2?i=i.substring(0,i.length-1)+"=":o%3===1&&(i=i.substring(0,i.length-2)+"=="),i},r.decode=function(t){var r,n,o,i,s,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var p=new ArrayBuffer(a),h=new Uint8Array(p);for(r=0;c>r;r+=4)n=e[t.charCodeAt(r)],o=e[t.charCodeAt(r+1)],i=e[t.charCodeAt(r+2)],s=e[t.charCodeAt(r+3)],h[u++]=n<<2|o>>4,h[u++]=(15&o)<<4|i>>2,h[u++]=(3&i)<<6|63&s;return p}}()},{}],13:[function(t,e,r){(function(t){function r(t){for(var e=0;e<t.length;e++){var r=t[e];if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var o=new Uint8Array(r.byteLength);o.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=o.buffer}t[e]=n}}}function n(t,e){e=e||{};var n=new i;r(t);for(var o=0;o<t.length;o++)n.append(t[o]);return e.type?n.getBlob(e.type):n.getBlob()}function o(t,e){return r(t),new Blob(t,e||{})}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{var t=new Blob(["hi"]);return 2===t.size}catch(e){return!1}}(),a=s&&function(){try{var t=new Blob([new Uint8Array([1,2])]);return 2===t.size}catch(e){return!1}}(),c=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return s?a?t.Blob:o:c?n:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,e,r){function n(t){return t?o(t):void 0}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}"undefined"!=typeof e&&(e.exports=n),n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r){r=r.slice(0);for(var n=0,o=r.length;o>n;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],15:[function(t,e,r){e.exports=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],16:[function(t,e,r){(function(e){function n(t,e){var n="b"+r.packets[t.type]+t.data.data;return e(n)}function o(t,e,n){if(!e)return r.encodeBase64Packet(t,n);var o=t.data,i=new Uint8Array(o),s=new Uint8Array(1+o.byteLength);s[0]=g[t.type];for(var a=0;a<i.length;a++)s[a+1]=i[a];return n(s.buffer)}function i(t,e,n){if(!e)return r.encodeBase64Packet(t,n);var o=new FileReader;return o.onload=function(){t.data=o.result,r.encodePacket(t,e,!0,n)},o.readAsArrayBuffer(t.data)}function s(t,e,n){if(!e)return r.encodeBase64Packet(t,n);if(v)return i(t,e,n);var o=new Uint8Array(1);o[0]=g[t.type];var s=new x([o.buffer,t.data]);return n(s)}function a(t){try{t=d.decode(t,{strict:!1})}catch(e){return!1}return t}function c(t,e,r){for(var n=new Array(t.length),o=l(t.length,r),i=function(t,r,o){e(r,function(e,r){n[t]=r,o(e,n)})},s=0;s<t.length;s++)i(s,t[s],o)}var u,p=t("./keys"),h=t("has-binary2"),f=t("arraybuffer.slice"),l=t("after"),d=t("./utf8");e&&e.ArrayBuffer&&(u=t("base64-arraybuffer"));var y="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),m="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=y||m;r.protocol=3;var g=r.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},w=p(g),b={type:"error",data:"parser error"},x=t("blob");r.encodePacket=function(t,r,i,a){"function"==typeof r&&(a=r,r=!1),"function"==typeof i&&(a=i,i=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return o(t,r,a);if(x&&c instanceof e.Blob)return s(t,r,a);if(c&&c.base64)return n(t,a);var u=g[t.type];return void 0!==t.data&&(u+=i?d.encode(String(t.data),{strict:!1}):String(t.data)),a(""+u)},r.encodeBase64Packet=function(t,n){var o="b"+r.packets[t.type];if(x&&t.data instanceof e.Blob){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(t.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(a){for(var c=new Uint8Array(t.data),u=new Array(c.length),p=0;p<c.length;p++)u[p]=c[p];s=String.fromCharCode.apply(null,u)}return o+=e.btoa(s),n(o)},r.decodePacket=function(t,e,n){if(void 0===t)return b;if("string"==typeof t){if("b"===t.charAt(0))return r.decodeBase64Packet(t.substr(1),e);if(n&&(t=a(t),t===!1))return b;var o=t.charAt(0);return Number(o)==o&&w[o]?t.length>1?{type:w[o],data:t.substring(1)}:{type:w[o]}:b}var i=new Uint8Array(t),o=i[0],s=f(t,1);return x&&"blob"===e&&(s=new x([s])),{type:w[o],data:s}},r.decodeBase64Packet=function(t,e){var r=w[t.charAt(0)];if(!u)return{type:r,data:{base64:!0,data:t.substr(1)}};var n=u.decode(t.substr(1));return"blob"===e&&x&&(n=new x([n])),{type:r,data:n}},r.encodePayload=function(t,e,n){function o(t){return t.length+":"+t}function i(t,n){r.encodePacket(t,s?e:!1,!1,function(t){n(null,o(t))})}"function"==typeof e&&(n=e,e=null);var s=h(t);return e&&s?x&&!v?r.encodePayloadAsBlob(t,n):r.encodePayloadAsArrayBuffer(t,n):t.length?void c(t,i,function(t,e){return n(e.join(""))}):n("0:")},r.decodePayload=function(t,e,n,o){if("string"!=typeof t)return r.decodePayloadAsBinary(t,e,o);"function"==typeof e&&(o=e,e=null),"function"==typeof n&&(o=n,n=null);var i;if(""===t)return o(b,0,1);if(n&&(t=a(t),t===!1))return o(b,0,1);for(var s,c,u="",p=0,h=t.length;h>p;p++){var f=t.charAt(p);if(":"===f){if(""===u||u!=(s=Number(u)))return o(b,0,1);if(c=t.substr(p+1,s),u!=c.length)return o(b,0,1);if(c.length){if(i=r.decodePacket(c,e,!1),b.type===i.type&&b.data===i.data)return o(b,0,1);var l=o(i,p+s,h);if(!1===l)return}p+=s,u=""}else u+=f}return""!==u?o(b,0,1):void 0},r.encodePayloadAsArrayBuffer=function(t,e){function n(t,e){r.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void c(t,n,function(t,r){var n=r.reduce(function(t,e){var r;return r="string"==typeof e?e.length:e.byteLength,t+r.toString().length+r+2},0),o=new Uint8Array(n),i=0;return r.forEach(function(t){var e="string"==typeof t,r=t;if(e){for(var n=new Uint8Array(t.length),s=0;s<t.length;s++)n[s]=t.charCodeAt(s);r=n.buffer}e?o[i++]=0:o[i++]=1;for(var a=r.byteLength.toString(),s=0;s<a.length;s++)o[i++]=parseInt(a[s]);o[i++]=255;for(var n=new Uint8Array(r),s=0;s<n.length;s++)o[i++]=n[s]}),e(o.buffer)}):e(new ArrayBuffer(0))},r.encodePayloadAsBlob=function(t,e){function n(t,e){r.encodePacket(t,!0,!0,function(t){var r=new Uint8Array(1);if(r[0]=1,"string"==typeof t){for(var n=new Uint8Array(t.length),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);t=n.buffer,r[0]=0}for(var i=t instanceof ArrayBuffer?t.byteLength:t.size,s=i.toString(),a=new Uint8Array(s.length+1),o=0;o<s.length;o++)a[o]=parseInt(s[o]);if(a[s.length]=255,x){var c=new x([r.buffer,a.buffer,t]);e(null,c)}})}c(t,n,function(t,r){return e(new x(r))})},r.decodePayloadAsBinary=function(t,e,n){"function"==typeof e&&(n=e,e=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),a=0===s[0],c="",u=1;255!==s[u];u++){if(c.length>310)return n(b,0,1);c+=s[u]}o=f(o,2+c.length),c=parseInt(c);var p=f(o,0,c);if(a)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(h){var l=new Uint8Array(p);p="";for(var u=0;u<l.length;u++)p+=String.fromCharCode(l[u])}i.push(p),o=f(o,c)}var d=i.length;i.forEach(function(t,o){n(r.decodePacket(t,e,!0),o,d)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":17,"./utf8":18,after:10,"arraybuffer.slice":11,"base64-arraybuffer":12,blob:13,"has-binary2":19}],17:[function(t,e,r){e.exports=Object.keys||function(t){var e=[],r=Object.prototype.hasOwnProperty;for(var n in t)r.call(t,n)&&e.push(n);return e}},{}],18:[function(t,e,r){(function(t){!function(n){function o(t){for(var e,r,n=[],o=0,i=t.length;i>o;)e=t.charCodeAt(o++),e>=55296&&56319>=e&&i>o?(r=t.charCodeAt(o++),56320==(64512&r)?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--)):n.push(e);return n}function i(t){for(var e,r=t.length,n=-1,o="";++n<r;)e=t[n],e>65535&&(e-=65536,o+=w(e>>>10&1023|55296),e=56320|1023&e),o+=w(e);return o}function s(t,e){if(t>=55296&&57343>=t){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function a(t,e){return w(t>>e&63|128)}function c(t,e){if(0==(4294967168&t))return w(t);var r="";return 0==(4294965248&t)?r=w(t>>6&31|192):0==(4294901760&t)?(s(t,e)||(t=65533),r=w(t>>12&15|224),r+=a(t,6)):0==(4292870144&t)&&(r=w(t>>18&7|240),r+=a(t,12),r+=a(t,6)),r+=w(63&t|128)}function u(t,e){e=e||{};for(var r,n=!1!==e.strict,i=o(t),s=i.length,a=-1,u="";++a<s;)r=i[a],u+=c(r,n);return u}function p(){if(g>=v)throw Error("Invalid byte index");var t=255&m[g];if(g++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function h(t){var e,r,n,o,i;if(g>v)throw Error("Invalid byte index");if(g==v)return!1;if(e=255&m[g],g++,0==(128&e))return e;if(192==(224&e)){if(r=p(),i=(31&e)<<6|r,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(r=p(),n=p(),i=(15&e)<<12|r<<6|n,i>=2048)return s(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(r=p(),n=p(),o=p(),i=(7&e)<<18|r<<12|n<<6|o,i>=65536&&1114111>=i))return i;throw Error("Invalid UTF-8 detected");
}function f(t,e){e=e||{};var r=!1!==e.strict;m=o(t),v=m.length,g=0;for(var n,s=[];(n=h(r))!==!1;)s.push(n);return i(s)}var l="object"==typeof r&&r,d="object"==typeof e&&e&&e.exports==l&&e,y="object"==typeof t&&t;(y.global===y||y.window===y)&&(n=y);var m,v,g,w=String.fromCharCode,b={version:"2.1.2",encode:u,decode:f};if(l&&!l.nodeType)if(d)d.exports=b;else{var x={},k=x.hasOwnProperty;for(var S in b)k.call(b,S)&&(l[S]=b[S])}else n.utf8=b}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,e,r){(function(r){function n(t){if(!t||"object"!=typeof t)return!1;if(o(t)){for(var e=0,i=t.length;i>e;e++)if(n(t[e]))return!0;return!1}if("function"==typeof r.Buffer&&r.Buffer.isBuffer&&r.Buffer.isBuffer(t)||"function"==typeof r.ArrayBuffer&&t instanceof ArrayBuffer||"function"==typeof r.Blob&&t instanceof Blob||"function"==typeof r.File&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return n(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n(t[s]))return!0;return!1}var o=t("isarray");e.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:22}],20:[function(t,e,r){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},{}],21:[function(t,e,r){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},{}],22:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],23:[function(t,e,r){(function(t){var r=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,o=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,i=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):r.test(e.replace(n,"@").replace(o,"]").replace(i,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],24:[function(t,e,r){r.encode=function(t){var e="";for(var r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e},r.decode=function(t){for(var e={},r=t.split("&"),n=0,o=r.length;o>n;n++){var i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},{}],25:[function(t,e,r){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,o=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,r=t.indexOf("["),i=t.indexOf("]");-1!=r&&-1!=i&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));for(var s=n.exec(t||""),a={},c=14;c--;)a[o[c]]=s[c]||"";return-1!=r&&-1!=i&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],26:[function(t,e,r){"use strict";function n(t){var e="";do e=a[t%c]+e,t=Math.floor(t/c);while(t>0);return e}function o(t){var e=0;for(h=0;h<t.length;h++)e=e*c+u[t.charAt(h)];return e}function i(){var t=n(+new Date);return t!==s?(p=0,s=t):t+"."+n(p++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},p=0,h=0;c>h;h++)u[a[h]]=h;i.encode=n,i.decode=o,e.exports=i},{}],27:[function(t,e,r){e.exports=t("./lib/index")},{"./lib/index":1}]},{},[27])(27)})}]);
